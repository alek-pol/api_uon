{
  "openapi" : "3.0.0",
  "info" : {
    "title" : "U-on API",
    "description" : "API - На основе выполненных запросов (отличается от документации представленной на портале https://api.u-on.ru/doc)",
    "version" : "1r"
  },
  "servers" : [ {
    "url" : "https://virtserver.swaggerhub.com/alek-pol/U-on/1",
    "description" : "SwaggerHub API Auto Mocking"
  }, {
    "url" : "https://api.u-on.ru",
    "description" : "U-on api"
  } ],
  "tags" : [ {
    "name" : "Managers",
    "description" : "Сотрудники компании"
  }, {
    "name" : "Users",
    "description" : "Туристы"
  } ],
  "paths" : {
    "/{key}/manager.{_format}" : {
      "get" : {
        "tags" : [ "Managers" ],
        "summary" : "Список сотрудников компании",
        "parameters" : [ {
          "name" : "key",
          "in" : "path",
          "description" : "API-ключ",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "_format",
          "in" : "path",
          "description" : "Формат выдачи результатов",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string",
            "default" : "json"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Успешное выполнение",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/manager"
                }
              },
              "application/xml" : {
                "schema" : {
                  "$ref" : "#/components/schemas/manager"
                }
              }
            }
          },
          "404" : {
            "description" : "Запись не найдена"
          }
        }
      }
    },
    "/{key}/user/{id}.{_format}" : {
      "get" : {
        "tags" : [ "Users" ],
        "summary" : "Получение данных по конкретному туристу / юр.лицу / турагентству",
        "parameters" : [ {
          "name" : "key",
          "in" : "path",
          "description" : "API-ключ",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "id",
          "in" : "path",
          "description" : "ID туриста / компании / турагентства",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "integer"
          }
        }, {
          "name" : "_format",
          "in" : "path",
          "description" : "Формат выдачи результатов",
          "required" : true,
          "style" : "simple",
          "explode" : false,
          "schema" : {
            "type" : "string",
            "default" : "json"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Успешное выполнение",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/user"
                }
              }
            }
          },
          "404" : {
            "description" : "Запись не найдена"
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "manager" : {
        "type" : "object",
        "properties" : {
          "users" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/manager_users"
            }
          }
        },
        "description" : "Список сотрудников"
      },
      "user" : {
        "type" : "object",
        "properties" : {
          "users" : {
            "type" : "array",
            "items" : {
              "oneOf" : [ {
                "$ref" : "#/components/schemas/user_type_1"
              }, {
                "$ref" : "#/components/schemas/user_type_2"
              } ]
            }
          }
        },
        "description" : "Один из (турист / юр.лицо / турагентство)"
      },
      "user_type_1" : {
        "type" : "object",
        "properties" : {
          "global_u_id" : {
            "type" : "integer",
            "description" : "Global ID"
          },
          "u_id" : {
            "type" : "integer",
            "description" : "ID"
          },
          "u_type" : {
            "type" : "integer",
            "description" : "Тип записи (1 - физ.лицо)"
          },
          "tourist_kind" : {
            "type" : "string",
            "description" : "Обращение (0 - не заполнено, 1 - Mr., 2 - Mrs., 3 - Miss, 4 - Child, 5 - Infant)"
          },
          "u_surname" : {
            "type" : "string",
            "description" : "Фамилия туриста"
          },
          "u_name" : {
            "type" : "string",
            "description" : "Имя туриста"
          },
          "u_sname" : {
            "type" : "string",
            "description" : "Отчество туриста"
          },
          "u_surname_en" : {
            "type" : "string",
            "description" : "Фамилия туриста (латиницей)"
          },
          "u_name_en" : {
            "type" : "string",
            "description" : "Имя туриста (латиницей)"
          },
          "u_email" : {
            "type" : "string",
            "description" : "E-mail туриста"
          },
          "u_sex" : {
            "type" : "integer",
            "description" : "Пол туриста (0 - не указан, 1 - муж., 2 - жен.)"
          },
          "u_phone" : {
            "type" : "string",
            "description" : "Телефон"
          },
          "u_phone_mobile" : {
            "type" : "string",
            "description" : "Телефон (мобильный)"
          },
          "u_phone_home" : {
            "type" : "string",
            "description" : "Телефон (домашний)"
          },
          "u_passport_number" : {
            "type" : "string",
            "description" : "Гражданский паспорт (серия и номер)"
          },
          "u_passport_taken" : {
            "type" : "string",
            "description" : "Гражданский паспорт (кем выдан)"
          },
          "u_passport_date" : {
            "type" : "string",
            "description" : "Гражданский паспорт (дата выдачи)",
            "format" : "date-time"
          },
          "u_zagran_number" : {
            "type" : "string",
            "description" : "Загранпаспорт (серия и номер)"
          },
          "u_zagran_given" : {
            "type" : "string",
            "description" : "Загранпаспорт (дата выдачи)",
            "format" : "date-time"
          },
          "u_zagran_expire" : {
            "type" : "string",
            "description" : "Загранпаспорт (дата действия)",
            "format" : "date-time"
          },
          "u_zagran_organization" : {
            "type" : "string",
            "description" : "Загранпаспорт (кем выдан)"
          },
          "u_birthday" : {
            "type" : "string",
            "description" : "День рождения",
            "format" : "date-time"
          },
          "u_birthday_place" : {
            "type" : "string",
            "description" : "Место рождения"
          },
          "u_birthday_certificate" : {
            "type" : "string",
            "description" : "Свидетельство о рождении"
          },
          "manager_id" : {
            "type" : "integer",
            "description" : "Прикрепленный менеджер (id)"
          },
          "u_social_vk" : {
            "type" : "string",
            "description" : "Аккаунт во Вконтакте"
          },
          "u_social_fb" : {
            "type" : "string",
            "description" : "Аккаунт в Facebook"
          },
          "u_social_ok" : {
            "type" : "string",
            "description" : "Аккаунт в Одноклассниках"
          },
          "u_telegram" : {
            "type" : "string",
            "description" : "Аккаунт в Telegram"
          },
          "u_whatsapp" : {
            "type" : "string",
            "description" : "Аккаунт в Whatsapp"
          },
          "u_viber" : {
            "type" : "string",
            "description" : "Аккаунт в Vibe"
          },
          "u_instagram" : {
            "type" : "string",
            "description" : "Аккаунт в Instagram"
          },
          "u_image" : {
            "type" : "string",
            "description" : "Фото пользователя (URL)"
          },
          "u_note" : {
            "type" : "string",
            "description" : "Примечание"
          },
          "timezone" : {
            "type" : "string",
            "description" : "Часовой пояс (относительно UTC/GMT)"
          },
          "source_id" : {
            "type" : "integer",
            "description" : "ID туриста\\компании, который привел добавляемого туриста"
          },
          "u_manager_status" : {
            "type" : "integer"
          },
          "u_company" : {
            "type" : "string",
            "description" : "Название компании"
          },
          "u_inn" : {
            "type" : "string",
            "description" : "ИНН"
          },
          "address" : {
            "type" : "string",
            "description" : "Адрес регистрации"
          },
          "delivery_subscription" : {
            "type" : "integer",
            "description" : "Согласие на получение массовых рассылок  (0 - Нет, 1 - Да)"
          },
          "role_id" : {
            "type" : "integer",
            "description" : "Группа доступа"
          },
          "active" : {
            "type" : "integer",
            "description" : "Активная учетная запись (0 - Нет, 1 - Да)"
          },
          "deleted" : {
            "type" : "integer",
            "description" : "Удаленная учетная запись (0 - Нет, 1 - Да)"
          },
          "ip_internal_number" : {
            "type" : "string",
            "description" : "Внутренний номер IP-телефонии"
          },
          "labels" : {
            "type" : "string",
            "description" : "Метки (Один или несколько вариантов - \"VIP,Эконом,Лид,Семья,Постоянный клиент,Ездит один,Активный отдых,Экскурсионный отдых,Новый Год\")"
          },
          "u_date_update" : {
            "type" : "string",
            "description" : "Дата и время последнего обновления записи",
            "format" : "date-time"
          },
          "cabinet_created" : {
            "type" : "integer",
            "description" : "Личный кабинет (0 - отсутствует, 1 - создан)"
          },
          "cabinet_created_date" : {
            "type" : "string",
            "description" : "Личный кабинет (дата создания)",
            "format" : "date-time"
          },
          "extended_fields" : {
            "type" : "array",
            "description" : "Дополнительные поля (см.метод /extended_field)",
            "items" : {
              "$ref" : "#/components/schemas/user_type_1_extended_fields"
            }
          }
        },
        "description" : "Турист (физ.лицо)"
      },
      "user_type_2" : {
        "type" : "object",
        "properties" : {
          "global_u_id" : {
            "type" : "integer",
            "description" : "Global ID"
          },
          "u_id" : {
            "type" : "integer",
            "description" : "ID"
          },
          "u_type" : {
            "type" : "integer",
            "description" : "Тип записи (2 - юр.лицо, 3 - турагентство)"
          },
          "u_surname" : {
            "type" : "string",
            "description" : "Контактное лицо (фамилия)"
          },
          "u_name" : {
            "type" : "string",
            "description" : "Контактное лицо (имя)"
          },
          "u_sname" : {
            "type" : "string",
            "description" : "Контактное лицо (отчество)"
          },
          "u_surname_en" : {
            "type" : "string",
            "description" : "Контактное лицо (фамилия лат.)"
          },
          "u_name_en" : {
            "type" : "string",
            "description" : "Контактное лицо (имя лат.)"
          },
          "u_email" : {
            "type" : "string",
            "description" : "E-mail"
          },
          "u_sex" : {
            "type" : "integer",
            "description" : "Пол (0 - не указан, 1 - муж., 2 - жен.)"
          },
          "u_fax" : {
            "type" : "string",
            "description" : "Факс"
          },
          "u_phone" : {
            "type" : "string",
            "description" : "Телефон (контактный)"
          },
          "u_phone_mobile" : {
            "type" : "string",
            "description" : "Телефон (мобильный)"
          },
          "u_passport_number" : {
            "type" : "string",
            "description" : "Гражданский паспорт (серия и номер)"
          },
          "u_passport_taken" : {
            "type" : "string",
            "description" : "Гражданский паспорт (кем выдан)"
          },
          "u_zagran_number" : {
            "type" : "string",
            "description" : "Загранпаспорт (серия и номер)"
          },
          "manager_id" : {
            "type" : "integer",
            "description" : "Прикрепленный менеджер (id)"
          },
          "u_social_vk" : {
            "type" : "string",
            "description" : "Аккаунт во Вконтакте"
          },
          "u_social_fb" : {
            "type" : "string",
            "description" : "Аккаунт в Facebook"
          },
          "u_social_ok" : {
            "type" : "string",
            "description" : "Аккаунт в Одноклассниках"
          },
          "u_telegram" : {
            "type" : "string",
            "description" : "Аккаунт в Telegram"
          },
          "u_whatsapp" : {
            "type" : "string",
            "description" : "Аккаунт в Whatsapp"
          },
          "u_viber" : {
            "type" : "string",
            "description" : "Аккаунт в Viber"
          },
          "u_instagram" : {
            "type" : "string",
            "description" : "Аккаунт в Instagram"
          },
          "u_image" : {
            "type" : "string",
            "description" : "Фото (URL)"
          },
          "u_note" : {
            "type" : "string",
            "description" : "Примечание"
          },
          "timezone" : {
            "type" : "string",
            "description" : "Часовой пояс (относительно UTC/GMT)"
          },
          "source_id" : {
            "type" : "integer",
            "description" : "ID туриста\\компании, который привел добавляемое юр.лицо"
          },
          "u_position" : {
            "type" : "string",
            "description" : "Должность (контактного лица)"
          },
          "u_manager_status" : {
            "type" : "integer"
          },
          "u_company" : {
            "type" : "string",
            "description" : "Название компании"
          },
          "u_inn" : {
            "type" : "string",
            "description" : "ИНН"
          },
          "u_kpp" : {
            "type" : "string",
            "description" : "КПП"
          },
          "u_ogrn" : {
            "type" : "string",
            "description" : "ОГРН"
          },
          "u_okved" : {
            "type" : "string",
            "description" : "ОКВЭД"
          },
          "address" : {
            "type" : "string",
            "description" : "Адрес"
          },
          "address_juridical" : {
            "type" : "string",
            "description" : "Адрес юридический"
          },
          "u_finance_bank" : {
            "type" : "string",
            "description" : "Наименование банка"
          },
          "u_finance_rs" : {
            "type" : "string",
            "description" : "Р/с"
          },
          "u_finance_ks" : {
            "type" : "string",
            "description" : "К/с"
          },
          "u_finance_bik" : {
            "type" : "string",
            "description" : "БИК"
          },
          "u_finance_okpo" : {
            "type" : "string",
            "description" : "ОКПО"
          },
          "delivery_subscription" : {
            "type" : "integer",
            "description" : "Согласие на получение массовых рассылок (0 - Нет, 1 - Да)"
          },
          "role_id" : {
            "type" : "integer",
            "description" : "Группа доступа"
          },
          "active" : {
            "type" : "integer",
            "description" : "Активная учетная запись (0 - Нет, 1 - Да)"
          },
          "deleted" : {
            "type" : "integer",
            "description" : "Удаленная учетная запись (0 - Нет, 1 - Да)"
          },
          "ip_internal_number" : {
            "type" : "string",
            "description" : "Внутренний номер IP-телефонии"
          },
          "labels" : {
            "type" : "string",
            "description" : "Метки (Один или несколько вариантов - \"VIP,Эконом,Лид,Семья,Постоянный клиент,Ездит один,Активный отдых,Экскурсионный отдых,Новый Год\")"
          },
          "u_date_update" : {
            "type" : "string",
            "description" : "Дата и время последнего обновления записи",
            "format" : "date-time"
          },
          "cabinet_created" : {
            "type" : "integer",
            "description" : "Личный кабинет (0 - отсутствует, 1 - создан)"
          },
          "cabinet_created_date" : {
            "type" : "string",
            "description" : "Личный кабинет (дата создания)",
            "format" : "date-time"
          },
          "extended_fields" : {
            "type" : "array",
            "description" : "Дополнительные поля (см.метод /extended_field)",
            "items" : {
              "$ref" : "#/components/schemas/user_type_1_extended_fields"
            }
          }
        },
        "description" : "Юридическое лицо / Турагентство"
      },
      "manager_users" : {
        "type" : "object",
        "properties" : {
          "global_u_id" : {
            "type" : "integer",
            "description" : "Global ID"
          },
          "u_id" : {
            "type" : "integer",
            "description" : "ID"
          },
          "u_type" : {
            "type" : "integer",
            "description" : "Тип записи (1 - физ.лицо, 2 - юр.лицо, 3 - турагентство)"
          },
          "u_surname" : {
            "type" : "string",
            "description" : "Фамилия"
          },
          "u_name" : {
            "type" : "string",
            "description" : "Имя"
          },
          "u_sname" : {
            "type" : "string",
            "description" : "Отчество"
          },
          "u_surname_en" : {
            "type" : "string",
            "description" : "Фамилия (англ.)"
          },
          "u_name_en" : {
            "type" : "string",
            "description" : "Имя (англ.)"
          },
          "u_email" : {
            "type" : "string",
            "description" : "E-mail"
          },
          "u_sex" : {
            "type" : "integer",
            "description" : "Пол (0 - не указан, 1 - муж., 2 - жен.)"
          },
          "u_phone" : {
            "type" : "string",
            "description" : "Телефон"
          },
          "u_phone_mobile" : {
            "type" : "string",
            "description" : "Телефон (мобильный)"
          },
          "u_phone_home" : {
            "type" : "string",
            "description" : "Телефон (домашний)"
          },
          "u_passport_number" : {
            "type" : "string",
            "description" : "Гражданский паспорт (серия и номер)"
          },
          "u_passport_taken" : {
            "type" : "string",
            "description" : "Гражданский паспорт (кем выдан)"
          },
          "u_zagran_number\"" : {
            "type" : "string",
            "description" : "Загранпаспорт (серия и номер)"
          },
          "u_birthday" : {
            "type" : "string",
            "description" : "День рождения",
            "format" : "date-time"
          },
          "manager_id" : {
            "type" : "integer",
            "description" : "Прикрепленный менеджер"
          },
          "u_social_vk" : {
            "type" : "string",
            "description" : "Аккаунт во Вконтакте"
          },
          "u_social_fb" : {
            "type" : "string",
            "description" : "Аккаунт в Facebook"
          },
          "u_social_ok" : {
            "type" : "string",
            "description" : "Аккаунт в Одноклассниках"
          },
          "u_telegram" : {
            "type" : "string",
            "description" : "Аккаунт в Telegram"
          },
          "u_whatsapp" : {
            "type" : "string",
            "description" : "Аккаунт в Whatsapp"
          },
          "u_viber" : {
            "type" : "string",
            "description" : "Аккаунт в Viber"
          },
          "u_instagram" : {
            "type" : "string",
            "description" : "Аккаунт в Instagram"
          },
          "u_image" : {
            "type" : "string",
            "description" : "Фото пользователя (URL)"
          },
          "u_note" : {
            "type" : "string",
            "description" : "Примечание"
          },
          "timezone" : {
            "type" : "string",
            "description" : "Часовой пояс (относительно UTC/GMT)"
          },
          "source_id" : {
            "type" : "integer",
            "description" : "Кто привел (Id)"
          },
          "u_position" : {
            "type" : "string",
            "description" : "Должность"
          },
          "u_manager_status" : {
            "type" : "integer"
          },
          "u_company" : {
            "type" : "string",
            "description" : "Название компании (для юр.лица)"
          },
          "delivery_subscription" : {
            "type" : "integer",
            "description" : "Согласие на получение массовых рассылок"
          },
          "role_id" : {
            "type" : "integer",
            "description" : "Группа доступа"
          },
          "office_id" : {
            "type" : "integer",
            "description" : "ID офиса"
          },
          "active" : {
            "type" : "integer",
            "description" : "Активная учетная запись (0 - Нет, 1 - Да)"
          },
          "deleted" : {
            "type" : "integer",
            "description" : "Удаленная учетная запись (0 - Нет, 1 - Да)"
          },
          "ip_internal_number" : {
            "type" : "string",
            "description" : "Внутренний номер IP-телефонии"
          },
          "u_date_update" : {
            "type" : "string",
            "description" : "Дата и время последнего обновления записи",
            "format" : "date-time"
          },
          "cabinet_created" : {
            "type" : "integer",
            "description" : "Личный кабинет (0 - отсутствует, 1 - создан)"
          },
          "cabinet_created_date" : {
            "type" : "string",
            "description" : "Личный кабинет (дата создания)",
            "format" : "date-time"
          },
          "my_new_lead_notification" : {
            "type" : "integer",
            "description" : "Уведомление при создании обращения(Менеджер указан ответственным в обращении)"
          },
          "any_new_lead_notification" : {
            "type" : "integer",
            "description" : "Уведомление при создании обращения (По ВСЕМ обращениям, независимо от прикрепленного менеджера)"
          },
          "my_new_request_notification" : {
            "type" : "integer",
            "description" : "Уведомление при создании заявки (Менеджер указан ответственным в заявке)"
          },
          "any_new_request_notification" : {
            "type" : "integer",
            "description" : "Уведомление при создании заявки (По ВСЕМ заявкам, независимо от прикрепленного менеджера)"
          }
        }
      },
      "user_type_1_extended_fields" : {
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "integer",
            "description" : "Дополнительное поле (id)"
          },
          "value" : {
            "type" : "string",
            "description" : "Дополнительное поле (значение)"
          }
        }
      }
    }
  }
}